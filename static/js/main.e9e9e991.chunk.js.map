{"version":3,"sources":["components/TodoItem.js","components/TodoList.js","constants.js","components/TodoFilters.js","App.js","index.js"],"names":["TodoItem","todo","deleteTodo","editTodo","useState","editedTitle","setEditedTitle","editing","setEditing","editNonEmptyTitle","id","className","classNames","completed","type","onChange","checked","onDoubleClick","title","onClick","autoFocus","defaultValue","onKeyDown","event","key","target","value","onBlur","TodoList","setTodos","todos","todoId","updatedTodos","map","filter","defaultProps","PropTypes","arrayOf","object","isRequired","FILTERS","all","active","TodoFilters","currentFilter","getFilter","Object","values","href","toLowerCase","App","todoTitle","setTodoTitle","toggleAll","setToggleAll","setFilter","useEffect","JSON","parse","localStorage","getItem","length","setItem","stringify","preparedTodos","useMemo","unfilteredTodos","onSubmit","preventDefault","newTodo","Date","trim","placeholder","every","htmlFor","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e9e9e991.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport const TodoItem = (\n  { todo,\n    deleteTodo,\n    editTodo },\n) => {\n  const [editedTitle, setEditedTitle] = useState('');\n  const [editing, setEditing] = useState(false);\n\n  const editNonEmptyTitle = () => {\n    if (editedTitle) {\n      editTodo(todo.id, editedTitle);\n      setEditing(false);\n    }\n  };\n\n  const handleSubmit = (event) => {\n    if (event.key === 'Enter') {\n      editNonEmptyTitle();\n    }\n\n    if (event.key === 'Escape') {\n      setEditing(false);\n    }\n  };\n\n  const outFocused = () => {\n    editNonEmptyTitle();\n    setEditing(false);\n  };\n\n  return (\n    <li\n      className={classNames({\n        completed: todo.completed,\n        editing,\n      })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          onChange={() => editTodo(todo.id, !todo.completed)}\n          checked={todo.completed}\n        />\n        <label onDoubleClick={() => setEditing(true)}>\n          {todo.title}\n        </label>\n        <button\n          type=\"button\"\n          className=\"destroy\"\n          onClick={() => deleteTodo(todo.id)}\n        />\n      </div>\n      {editing && (\n        <input\n          autoFocus\n          type=\"text\"\n          className=\"edit\"\n          defaultValue={todo.title}\n          onKeyDown={handleSubmit}\n          onChange={event => setEditedTitle(event.target.value)}\n          onBlur={outFocused}\n        />\n      )}\n    </li>\n  );\n};\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({ id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired }).isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n  editTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TodoItem } from './TodoItem';\n\nexport const TodoList = (\n  { setTodos,\n    todos },\n) => {\n  const editTodo = (todoId, value) => {\n    const updatedTodos = todos.map((todo) => {\n      if (todo.id === todoId) {\n        return { ...todo,\n          title: typeof value === 'string' ? value : todo.title,\n          completed: typeof value === 'boolean' ? value : todo.completed };\n      }\n\n      return todo;\n    });\n\n    setTodos(updatedTodos);\n  };\n\n  const deleteTodo = (todoId) => {\n    setTodos(todos.filter(todo => todo.id !== todoId));\n  };\n\n  if (!todos) {\n    return null;\n  }\n\n  return (\n    <ul className=\"todo-list\">\n      {todos\n        .map(todo => (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            deleteTodo={deleteTodo}\n            editTodo={editTodo}\n          />\n        ))}\n    </ul>\n  );\n};\n\nTodoList.propTypes = {\n  setTodos: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(PropTypes.object.isRequired),\n};\nTodoList.defaultProps = {\n  todos: PropTypes.arrayOf(PropTypes.object.isRequired),\n};\n","export const FILTERS = {\n  all: 'All',\n  active: 'Active',\n  completed: 'Completed',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FILTERS } from '../constants';\n\nexport const TodoFilters = ({ currentFilter, getFilter }) => (\n  <ul className=\"filters\">\n    {Object.values(FILTERS).map(filter => (\n      <li key={filter}>\n        <a\n          href={currentFilter === FILTERS.all\n            ? `#/`\n            : `#/${currentFilter.toLowerCase()}`}\n          className={currentFilter === filter ? 'selected' : ''}\n          onClick={() => getFilter(filter)}\n        >\n          {filter}\n        </a>\n      </li>\n    ))}\n  </ul>\n);\n\nTodoFilters.propTypes = {\n  currentFilter: PropTypes.string.isRequired,\n  getFilter: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { TodoList } from './components/TodoList';\nimport { TodoFilters } from './components/TodoFilters';\nimport { FILTERS } from './constants';\n\nfunction App() {\n  const [todoTitle, setTodoTitle] = useState('');\n  const [todos, setTodos] = useState(null);\n  const [toggleAll, setToggleAll] = useState(false);\n  const [filter, setFilter] = useState(FILTERS.all);\n\n  useEffect(() => {\n    if (JSON.parse(localStorage.getItem('todos'))) {\n      setTodos(JSON.parse(localStorage.getItem('todos')));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (todos && todos.length === 0) {\n      setTodos(null);\n    }\n\n    localStorage.setItem('todos', JSON.stringify(todos));\n  }, [todos]);\n\n  const addTodo = (event) => {\n    event.preventDefault();\n    const newTodo = {\n      id: +new Date(),\n      title: todoTitle.trim(),\n      completed: false,\n    };\n\n    if (todoTitle && todos) {\n      setTodos([\n        ...todos,\n        newTodo,\n      ]);\n      setTodoTitle('');\n    } else if (todoTitle) {\n      setTodos([newTodo]);\n      setTodoTitle('');\n    }\n  };\n\n  const toggleTodos = () => {\n    setToggleAll(!toggleAll);\n    setTodos(todos.map(todo => ({\n      ...todo,\n      completed: !todo.completed,\n    })));\n  };\n\n  function deleteCompleted() {\n    setTodos(todos.filter(todo => !todo.completed));\n  }\n\n  const filteredTodos = (unfilteredTodos, currentFilter) => {\n    if (unfilteredTodos) {\n      return unfilteredTodos.filter((todo) => {\n        switch (currentFilter) {\n          case (FILTERS.active):\n            return !todo.completed;\n          case (FILTERS.completed):\n            return todo.completed;\n          default:\n            return todo;\n        }\n      });\n    }\n\n    return unfilteredTodos;\n  };\n\n  const preparedTodos = useMemo(\n    () => filteredTodos(todos, filter),\n    [todos, filter],\n  );\n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>todos</h1>\n        <form onSubmit={addTodo}>\n          <input\n            type=\"text\"\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            onChange={event => setTodoTitle(event.target.value)}\n            value={todoTitle}\n          />\n        </form>\n      </header>\n\n      <section className=\"main\">\n        {todos && (\n          <>\n            <input\n              type=\"checkbox\"\n              id=\"toggle-all\"\n              className=\"toggle-all\"\n              checked={todos.every(todo => todo.completed)}\n              onChange={toggleTodos}\n            />\n            <label htmlFor=\"toggle-all\">Mark all as complete</label>\n          </>\n        )}\n\n        <TodoList\n          setTodos={setTodos}\n          todos={preparedTodos}\n        />\n      </section>\n\n      {todos && (\n        <footer className=\"footer\">\n          <span className=\"todo-count\">\n            {todos.filter(todo => !todo.completed).length}\n            {' items left'}\n          </span>\n\n          <TodoFilters\n            currentFilter={filter}\n            getFilter={setFilter}\n          />\n\n          {todos.find(todo => todo.completed) && (\n            <button\n              type=\"button\"\n              className=\"clear-completed\"\n              onClick={deleteCompleted}\n            >\n              Clear completed\n            </button>\n          )}\n        </footer>\n      )}\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}